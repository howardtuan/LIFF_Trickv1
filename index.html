
<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
	<title>My LIFF App3</title>
	<style>

		button {
			display: none;
			width: 50%;
			height: 10%;
			padding: 16px 0;
			margin: auto 0;
		}
	</style>
</head>

<body>
	<button id="btnShare" onclick="sendShare_Gift()" style="display: none;margin: 20px auto;padding: 20px;">Gift</button>
	<button id="btnShare2" onclick="sendShare_Ladder()" style="display: none;margin: 20px auto;padding: 20px;">Ladder</button>
	<button id="btnShare3" onclick="sendShare_Pay()" style="display: none;margin: 20px auto;padding: 20px;">Pay</button>
	<button id="btnShare4" onclick="Red_Env()" style="display: none;margin: 20px auto;padding: 20px;">Red Env</button>
	<button id="btnLogin" onclick="liff.login()" style="display: none;margin: 20px auto;padding: 20px;">Log In</button>
	<button id="btnLogOut" onclick="logOut()" style="display: none;margin: 20px auto;padding: 20px;">Log Out</button>	<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
	<script>
		async function sendShare_Gift() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});

			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": name + "送禮物來囉!",
					"contents": {
						"type": "bubble",
						"size": "kilo",
						"hero": {
							"type": "image",
							"url": "https://img.onl/olwxWE",
							"size": "full",
							"aspectRatio": "18:19",
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
							},
							"offsetTop": "none",
							"offsetBottom": "none",
							"offsetStart": "none",
							"margin": "none",
							"align": "center",
							"aspectMode": "cover"
						},
						"body": {
							"type": "box",
							"layout": "horizontal",
							"spacing": "none",
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
							},
							"contents": [
								{
									"type": "image",
									"url": "https://img.onl/pNQsvU",
									"align": "start",
									"size": "md",
									"offsetTop": "none",
									"offsetBottom": "none",
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									},
									"offsetStart": "none",
									"position": "relative",
									"offsetEnd": "none"
								},
								{
									"type": "text",
									"text": "【星巴克】大杯芝麻杏仁豆腐星冰樂即享券",
									"size": "md",
									"weight": "bold",
									"margin": "none",
									"align": "start",
									"offsetTop": "xxl",
									"contents": [],
									"style": "normal",
									"offsetEnd": "none",
									"wrap": true,
									"offsetBottom": "none",
									"offsetStart": "none",
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									},
									"position": "relative"
								}
							],
							"margin": "none",
							"offsetTop": "none",
							"position": "relative",
							"offsetStart": "none",
							"offsetEnd": "none",
							"offsetBottom": "none"
						},
						"footer": {
							"type": "box",
							"layout": "vertical",
							"contents": [
								{
									"type": "button",
									"color": "#EEE9E9",
									"margin": "none",
									"action": {
										"type": "uri",
										"label": "打開我的禮物",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									},
									"style": "secondary"
								},
								{
									"type": "button",
									"action": {
										"type": "uri",
										"label": "傳送感謝小卡",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									}
								},
								{
									"type": "separator"
								},
								{
									"type": "box",
									"layout": "vertical",
									"contents": [
										{
											"type": "button",
											"action": {
												"type": "uri",
												"label": "LINE禮物",
												"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
											},
											"position": "relative",
											"margin": "none",
											"height": "sm",
											"style": "link",
											"offsetTop": "none",
											"offsetStart": "none",
											"offsetEnd": "none"
										}
									],
									"action": {
										"type": "uri",
										"label": "action",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E5%96%9C%E6%AD%A1%E4%BD%A0%20%E8%B7%9F%E6%88%91%E4%BA%A4%E5%BE%80%E5%A5%BD%E3%84%87%20%3E%3C"
									}
								}
							]
						}
					}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}

		async function sendShare_Ladder() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});

			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": "爬梯子遊戲已建立，讓梯子決定您的命運吧！",
					"contents": {
						"type": "bubble",
						"size": "kilo",
						"hero": {
							"type": "image",
							"url": "https://img.onl/qCFiCL",
							"size": "full",
							"aspectRatio": "20:13",
							"aspectMode": "cover",
							"action": {
								"type": "uri",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E7%A5%9D%E5%A4%A7%E5%AE%B6520%E5%BF%AB%E6%A8%82%21"
							}
						},
						"body": {
							"type": "box",
							"layout": "vertical",
							"contents": [
								{
									"type": "text",
									"text": "爬梯子",
									"weight": "bold",
									"size": "md"
								},
								{
									"type": "box",
									"layout": "vertical",
									"margin": "md",
									"spacing": "sm",
									"contents": [
										{
											"type": "text",
											"text": "我建立了一個爬梯子遊戲，馬上來看看結果吧！",
											"wrap": true,
											"color": "#666666",
											"size": "sm",
											"offsetEnd": "none",
											"offsetStart": "none",
											"offsetBottom": "none",
											"offsetTop": "none",
											"flex": 5
										}
									]
								}
							],
							"action": {
								"type": "uri",
								"label": "action",
								"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E7%A5%9D%E5%A4%A7%E5%AE%B6520%E5%BF%AB%E6%A8%82%21"
							}
						},
						"footer": {
							"type": "box",
							"layout": "vertical",
							"spacing": "sm",
							"contents": [
								{
									"type": "separator",
									"margin": "none"
								},
								{
									"type": "button",
									"style": "link",
									"height": "sm",
									"action": {
										"type": "uri",
										"label": "開啟爬梯子遊戲",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=image&downloadUrl=https://img.onl/gMAv2L&previewUrl=https://img.onl/gMAv2L"
									}
								},
								{
									"type": "button",
									"style": "link",
									"height": "sm",
									"action": {
										"type": "uri",
										"label": "查看全部結果",
										"uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=image&downloadUrl=https://img.onl/oRI5Lz&previewUrl=https://img.onl/oRI5Lz"
									}
								},
								{
									"type": "separator"
								},
								{
									"type": "box",
									"layout": "vertical",
									"contents": [],
									"margin": "sm"
								}
							],
							"flex": 0,
							"margin": "none",
							"paddingTop": "none"
						}
					}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}
		
		async function sendShare_Pay() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});
			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": "已收到NT$ 888的轉帳。",
					"contents": {
						  "type": "bubble",
						  "size": "hecto",
						  "hero": {
							"type": "image",
							"url": "https://i.imgur.com/j5VkCxE.png",
							"size": "full",
							"aspectRatio": "20:13",
							"aspectMode": "cover",
							"action": {
							  "type": "uri",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
							},
							"position": "relative"
						  },
						  "body": {
							"type": "box",
							"layout": "vertical",
							"contents": [
							  {
								"type": "text",
								"text": "LINE Pay",
								"weight": "bold",
								"size": "xs",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
								}
							  },
							  {
								"type": "text",
								"text": "您已收到 NT$ 888。（來自："+ name +"）",
								"size": "xs",
								"contents": [],
								"color": "#8E8E8E",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=image&downloadUrl=https://i.imgur.com/ait6uEi.jpg&previewUrl=https://i.imgur.com/ait6uEi.jpg"
								}
							  },
							  {
								"type": "button",
								"position": "relative",
								"style": "secondary",
								"height": "sm",
								"margin": "lg",
								"color": "#F0F0F0",
								"action": {
								  "type": "uri",
								  "label": "瞭解更多",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%80%92%E6%AD%A4%E4%B8%80%E6%B2%B9"
								},
								"scaling": true,
								"offsetEnd": "none"
							  }
							],
							"action": {
							  "type": "uri",
							  "label": "action",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
							}
						  },
						  "footer": {
							"type": "box",
							"layout": "baseline",
							"contents": [
							  {
								"type": "icon",
								"url": "https://i.imgur.com/LriSrg0.png",
								"margin": "none",
								"size": "xs",
								"scaling": true,
								"offsetTop": "xs"
							  },
							  {
								"type": "text",
								"text": "LINE Pay",
								"margin": "sm",
								"size": "xxs",
								"color": "#8E8E8E"
							  },
							  {
								"type": "icon",
								"url": "https://i.imgur.com/aKbXQ9D.png",
								"margin": "sm",
								"size": "xxs",
								"offsetTop": "xs"
							  }
							],
							"action": {
							  "type": "uri",
							  "label": "action",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%88%91%E8%B6%85%E7%AC%A8%20%E6%B4%BB%E8%A9%B2%E8%A2%AB%E9%A8%99"
							},
							"position": "relative"
						  },
						  "styles": {
							"footer": {
							  "separator": true
							}
						  }
						}
				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}
		
		async function Red_Env() {
			name = await liff.getProfile().then((profile) => {
				return profile.displayName;
			}).catch((err) => {
				return err;
			});

			const result = await liff.shareTargetPicker([
				{
					"type": "flex",
					"altText": "您收到一則紅包訊息！",
					"contents":{
						  "type": "bubble",
						  "size": "kilo",
						  "hero": {
							"type": "image",
							"url": "https://i.imgur.com/2Fbb9wM.png",
							"size": "full",
							"aspectRatio": "20:13",
							"aspectMode": "cover",
							"action": {
							  "type": "uri",
							  "label": "action",
							  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%8C%89%E7%9A%84%E9%BE%8D%E5%96%9C%E5%8C%97%E4%B8%83"
							}
						  },
						  "body": {
							"type": "box",
							"layout": "vertical",
							"contents": [
							  {
								"type": "text",
								"text": "LINE Pay 紅包",
								"weight": "bold",
								"size": "sm",
								"color": "#000000",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%8C%89%E7%9A%84%E9%BE%8D%E5%96%9C%E5%8C%97%E4%B8%83"
								}
							  },
							  {
								"type": "text",
								"text": name +　"發紅包了，限時3天！快來試試手氣！(紅包將在3天後過期並退還給好友。)",
								"size": "xs",
								"wrap": true,
								"offsetTop": "md",
								"action": {
								  "type": "uri",
								  "label": "action",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E6%8C%89%E7%9A%84%E9%BE%8D%E5%96%9C%E5%8C%97%E4%B8%83"
								}
							  }
							]
						  },
						  "footer": {
							"type": "box",
							"layout": "vertical",
							"spacing": "sm",
							"contents": [
							  {
								"type": "separator"
							  },
							  {
								"type": "button",
								"style": "link",
								"action": {
								  "type": "uri",
								  "label": "查看紅包狀態",
								  "uri": "https://liff.line.me/1657022499-njBkN1k3?auto=yes&type=text&text=%E5%96%9C%E6%AD%A1%E4%BD%A0%F0%9F%98%98%F0%9F%98%81%F0%9F%AB%B5%F0%9F%AB%B6%E8%80%B6%E2%9C%8C%EF%B8%8F%0A%E8%A8%98%E4%BD%8F%E4%BD%A0%E6%AF%8F%E5%80%8B%E8%A8%8A%E6%81%AF%F0%9F%A5%B8%F0%9F%AB%B5%E2%9C%89%EF%B8%8F%0A%E6%83%B3%E7%85%A7%E9%A1%A7%E4%BD%A0%F0%9F%A5%B0%F0%9F%91%A9%E2%80%8D%E2%9D%A4%EF%B8%8F%E2%80%8D%F0%9F%92%8B%E2%80%8D%F0%9F%91%A8%E8%80%B6%F0%9F%A4%9F%0A%E5%81%B7%E5%81%B7%E5%B8%8C%E6%9C%9B%E8%83%BD%E6%88%90%E7%82%BA%F0%9F%98%99%F0%9F%98%AE%F0%9F%98%AE%0A%E4%BD%A0%E7%9A%84%E5%94%AF%E4%B8%80%F0%9F%AB%B5%F0%9F%AB%B5%E2%9D%A4%EF%B8%8F1%EF%B8%8F%E2%83%A3%E8%80%B6%E2%9C%8C%EF%B8%8F%0A%E9%BB%98%E9%BB%98%E5%9C%B0%E6%94%AF%E6%8C%81%E8%91%97%E4%BD%A0%F0%9F%98%A4%F0%9F%98%A4%F0%9F%92%AA%F0%9F%AB%B5%E2%9D%A3%EF%B8%8F%0A%E5%96%9C%E6%AD%A1%E4%BD%A0%F0%9F%98%98%F0%9F%98%81%F0%9F%AB%B5%F0%9F%AB%B6%E8%80%B6%E2%9C%8C%EF%B8%8F%0A%E6%88%91%E6%98%AF%E7%9C%9F%E7%9A%84%E2%9D%A4%EF%B8%8F%E2%9D%A4%EF%B8%8F%E2%9D%A4%EF%B8%8F%E2%9D%A4%EF%B8%8F%E2%9D%A4%EF%B8%8F%0A%E6%88%91%E2%9D%97%EF%B8%8F%E6%98%AF%E2%9D%97%EF%B8%8F%E7%9C%9F%E2%9D%97%EF%B8%8F%E7%9A%84%E2%9D%97%EF%B8%8F%E4%B8%8D%E8%83%BD%E2%9D%97%EF%B8%8F%E6%8E%A7%E5%88%B6%E2%9D%97%EF%B8%8F%E6%88%91%E8%87%AA%E5%B7%B1%E2%9D%97%EF%B8%8F"
								},
								"margin": "none"
							  },
							  {
								"type": "box",
								"layout": "vertical",
								"contents": [
								  {
									"type": "separator",
									"margin": "xs"
								  },
								  {
									"type": "box",
									"layout": "baseline",
									"contents": [
									  {
										"type": "icon",
										"url": "https://i.imgur.com/QdZ0eDc.png",
										"margin": "none",
										"scaling": true,
										"offsetTop": "sm"
									  },
									  {
										"type": "text",
										"text": "紅包",
										"color": "#8E8E8E",
										"margin": "sm",
										"size": "xs",
										"offsetTop": "xs"
									  },
									  {
										"type": "icon",
										"url": "https://i.imgur.com/aKbXQ9D.png",
										"margin": "xs",
										"size": "xs",
										"offsetTop": "sm"
									  }
									]
								  }
								],
								"margin": "sm"
							  }
							],
							"flex": 0
						  }
						}
					

				}
			])
			if (result) {
				alert(`[${result.status}] Message sent!`)
			} else {
				const [majorVer, minorVer, patchVer] = (liff.getLineVersion() || "").split('.');

				if (minorVer === undefined) {
					alert('ShareTargetPicker was canceled in external browser')
					return
				}

				if (parseInt(majorVer) >= 10 && parseInt(minorVer) >= 10 && parseInt(patchVer) > 0) {
					alert('ShareTargetPicker was canceled in LINE app')
				}
			}
		}
		

		function logOut() {
			liff.logout()
			window.location.reload()
		}

		async function main() {
			await liff.init({ liffId: "2004311988-ORv6Bbmx" })
			if (liff.isLoggedIn()) {
				document.getElementById("btnShare").style.display = "block"
				document.getElementById("btnShare2").style.display = "block"
				document.getElementById("btnShare3").style.display = "block"
				document.getElementById("btnShare4").style.display = "block"
				if (!liff.isInClient()) {
					document.getElementById("btnLogOut").style.display = "block"
				}
			} else {
				document.getElementById("btnLogin").style.display = "block"
			}
		}
		main()
	</script>
</body>

</html>
